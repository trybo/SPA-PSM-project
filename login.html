<html>
    <head>
       <link rel ="stylesheet" type="text/css" href="style.css">
        <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-firestore.js"></script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        
       
    </head>
    <body>
        <nav class="navbar navbar-default" onload="checkUser()">
            <div class="container-fluid">
              <div class="navbar-header">
                <a class="navbar-brand" href="#">WebSiteName</a>
              </div>
              <ul class="nav navbar-nav">
                
                <li><a href="home.html">Home</a></li>
                <li class='loggedOut'><a href="reg.html">Sign Up</a></li>
                <li class='loggedOut'><a href="login.html">Sign In</a></li>
              </ul>
            </div>
          </nav>

          <form id='login'>
            <div class="form-group" max-width:500px>
              <label for="exampleInputEmail1">Email address</label>
              <input type="email" class="form-control" id="loginEmail" aria-describedby="emailHelp" placeholder="Enter email" required>
              
            </div>
            <div class="form-group">
              <label for="exampleInputPassword1">Password</label>
              <input type="password" class="form-control" id="loginPassword" placeholder="Password">
            </div>
            <p style="color: red;" class="error"></p>

            <button type="submit" class="btn btn-primary" id="submit">Submit</button>
          </form>


       
        <script>
const firebaseConfig = {
  apiKey: "AIzaSyAO7wjG_KgdfONU9xQOIIgZ2ig4kKd7jBQ",
  authDomain: "sporteventsplanner-a1a88.firebaseapp.com",
  databaseURL: "https://sporteventsplanner-a1a88.firebaseio.com",
  projectId: "sporteventsplanner-a1a88",
  storageBucket: "sporteventsplanner-a1a88.appspot.com",
  messagingSenderId: "324303317328",
  appId: "1:324303317328:web:d8505e459fddbe6aa82455",
  measurementId: "G-W6G5F9R368"
};
  firebase.initializeApp(firebaseConfig);
            const auth=firebase.auth();
            const db=firebase.firestore();
            const loginForm=document.querySelector('#login');
loginForm.addEventListener('submit',(e)=>{
  e.preventDefault();
  const email=loginForm['loginEmail'].value;
  const password=loginForm['loginPassword'].value;
  auth.signInWithEmailAndPassword(email, password).then(cred=>{
    window.location='/home.html'
  }).catch(err=>{
    loginForm.querySelector('.error').innerHTML=err.message;
  });
})
function checkUser(){
    
    firebase.auth().onAuthStateChanged(function(user) {
  if (user) {
    var x = document.getElementsByClassName('loggedOut');
    for(var element in x){
        element.style.display="none"
    }
    // User is signed in.
  } else {
    // No user is signed in.
  }
});

}
            
        </script>
        
    </body>
</html>