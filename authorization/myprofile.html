<html >
    <head>
      <style>
        body {
    opacity: 0;
}
 
body.all-loaded {
    opacity: 1;
}
      </style>
       
        <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-firestore.js"></script>
        
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script>


  const firebaseConfig = {
  apiKey: "AIzaSyAO7wjG_KgdfONU9xQOIIgZ2ig4kKd7jBQ",
  authDomain: "sporteventsplanner-a1a88.firebaseapp.com",
  databaseURL: "https://sporteventsplanner-a1a88.firebaseio.com",
  projectId: "sporteventsplanner-a1a88",
  storageBucket: "sporteventsplanner-a1a88.appspot.com",
  messagingSenderId: "324303317328",
  appId: "1:324303317328:web:d8505e459fddbe6aa82455",
  measurementId: "G-W6G5F9R368"
};
  firebase.initializeApp(firebaseConfig);
            const auth=firebase.auth();
            const db=firebase.firestore();
         
              
         
    

</script>

       
    </head>
    <body>
      <nav class="navbar navbar-default" >
        <div class="container-fluid">
          <div class="navbar-header">
            <a class="navbar-brand" href="#">WebSiteName</a>
          </div>
          <ul class="nav navbar-nav" onload="checkUser()">
            
            <li><a href="home.html">Home</a></li>
            <li class ="loggedOut"><a href="reg.html">Sign Up</a></li>
            <li class="loggedOut"><a href="login.html">Sign In</a></li>
            <li class="loggedIn"><a href="myprofile.html">My profile</a></li>
            <li class="loggedIn"><a href=''onclick="logout()">Logout</a></li>
            
          </ul>
        </div>
      </nav>
      <div id='profile'> </div>
  <!-- SIGN UP MODAL -->

        <script>
            function checkUser(){firebase.auth().onAuthStateChanged(function(user) {
    if (user) {
        db.collection('users').doc(user.uid).get().then(doc=>{
        const html= `<div>User email ${user.email}</div>
        <div>${doc.data().nickname}</div>`
        var z= document.getElementById('profile');
        z.innerHTML=html;
    }) 
      var x = document.getElementsByClassName('loggedOut');
      
      for (var i = 0; i < x.length; i++){
          x[i].style.display="none";
          
      }
      // User is signed in.
    } else {
      
      var x = document.getElementsByClassName('loggedIn');
      
      for (var i = 0; i < x.length; i++){
          x[i].style.display="none";
      }
      
    }
    $("body").addClass('all-loaded');
   
  });
  }
  
 
          window.onloadstart=checkUser();
          
          


        </script>
        <script src="app.js" ></script>

    </body>
</html>